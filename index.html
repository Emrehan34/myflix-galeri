<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyFlix - Kişisel Medya Galeriniz</title>
    <meta name="description" content="Fotoğraflarınızı ve videolarınızı Netflix tarzı modern bir arayüzde saklayın ve paylaşın.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Montserrat:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div id="global-loader" class="loader-container">
        <div class="spinner"></div>
    </div>

    <div id="toast-container" class="toast-container"></div>

    <section id="auth-section" class="auth-section">
        <div class="auth-overlay"></div> <div class="auth-container">
            <div class="auth-card">
                <header class="auth-header">
                    <div class="auth-logo">
                        <i class="fas fa-play-circle" aria-hidden="true"></i>
                        <span class="logo-text">MYFLIX</span>
                    </div>
                    <h1 class="auth-title" id="auth-title">Giriş Yap</h1>
                    <p class="auth-subtitle">Dijital koleksiyonunuza erişin</p>
                </header>

                <form id="auth-form" class="auth-form" novalidate>
                    <div class="input-group name-field" id="name-group" style="display: none;">
                        <i class="fas fa-user" aria-hidden="true"></i>
                        <input type="text" id="name" name="name" placeholder="Adınız Soyadınız" autocomplete="name">
                    </div>

                    <div class="input-group">
                        <i class="fas fa-envelope" aria-hidden="true"></i>
                        <input type="email" id="email" name="email" placeholder="E-posta veya telefon" required autocomplete="email">
                    </div>

                    <div class="input-group">
                        <i class="fas fa-lock" aria-hidden="true"></i>
                        <input type="password" id="password" name="password" placeholder="Parola" required autocomplete="current-password">
                        <button type="button" id="toggle-password" class="toggle-password" aria-label="Şifreyi göster">
                            <i class="fas fa-eye" aria-hidden="true"></i>
                        </button>
                    </div>

                    <div class="form-actions">
                        <button type="submit" id="auth-submit-btn" class="btn-primary full-width">Giriş Yap</button>
                    </div>
                </form>

                <div class="auth-divider"><span>veya</span></div>

                <div class="social-login">
                    <button type="button" id="google-login-btn" class="social-btn google-btn">
                        <i class="fab fa-google" aria-hidden="true"></i> <span class="mobile-hide">Google ile devam et</span>
                    </button>
                    </div>

                <div class="auth-switch">
                    <span id="auth-switch-text">MyFlix'te yeni misiniz?</span>
                    <button type="button" id="auth-switch-btn" class="link-btn">Şimdi kaydolun</button>
                </div>
            </div>
        </div>
    </section>

    <div id="main-app" class="main-app" style="display:none;">
        <header class="app-header">
            <div class="header-content">
                <div class="logo-area">
                    <i class="fas fa-play-circle text-primary"></i>
                    <span class="logo-text">MYFLIX</span>
                </div>

                <nav class="main-nav">
                    <button class="nav-link active" data-target="home-view">
                        <i class="fas fa-home"></i> <span>Ana Sayfa</span>
                    </button>
                    <button class="nav-link" data-target="albums-view">
                        <i class="fas fa-layer-group"></i> <span>Albümler</span>
                    </button>
                    <button class="nav-link" data-target="create-view">
                        <i class="fas fa-plus-circle"></i> <span>Yeni Ekle</span>
                    </button>
                </nav>

                <div class="header-right">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="global-search" placeholder="İçerik ara...">
                    </div>
                    
                    <div class="user-menu-container">
                        <button id="user-menu-trigger" class="user-avatar-btn">
                            <img src="https://via.placeholder.com/40" alt="Profil" id="header-avatar">
                        </button>
                        
                        <div class="dropdown-menu" id="user-dropdown">
                            <div class="dropdown-header">
                                <strong id="dropdown-name">Kullanıcı</strong>
                                <small id="dropdown-email">user@email.com</small>
                            </div>
                            <hr>
                            <button class="dropdown-item" data-target="settings-view"><i class="fas fa-cog"></i> Ayarlar</button>
                            <button class="dropdown-item text-danger" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Çıkış</button>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main id="app-content">
            
            <section id="home-view" class="view-section active">
                <div class="hero-banner">
                    <div class="hero-text">
                        <h1>Anılarınız, Sizin Sahneniz.</h1>
                        <p>Tüm fotoğraflarınız ve videolarınız tek bir yerde, sinematik bir deneyimle.</p>
                        <div class="hero-btns">
                            <button class="btn-primary" onclick="document.querySelector('[data-target=\'create-view\']').click()">
                                <i class="fas fa-play"></i> Albüm Oluştur
                            </button>
                            <button class="btn-secondary" onclick="document.querySelector('[data-target=\'albums-view\']').click()">
                                <i class="fas fa-info-circle"></i> Koleksiyonum
                            </button>
                        </div>
                    </div>
                </div>

                <div class="content-row">
                    <h3 class="row-title">Son Eklenenler</h3>
                    <div class="media-scroller" id="recent-media-scroller">
                        <div class="loading-placeholder">Yükleniyor...</div>
                    </div>
                </div>

                <div class="content-row">
                    <h3 class="row-title">Öne Çıkan Albümler</h3>
                    <div class="media-scroller" id="featured-albums-scroller">
                        </div>
                </div>
            </section>

            <section id="albums-view" class="view-section" style="display: none;">
                <div class="section-header">
                    <h2>Albümlerim</h2>
                    <div class="filter-controls">
                        <select id="sort-albums">
                            <option value="date-desc">En Yeni</option>
                            <option value="name-asc">A-Z Sıralı</option>
                        </select>
                        <div class="view-toggles">
                            <button class="icon-btn active" data-view="grid"><i class="fas fa-th"></i></button>
                            <button class="icon-btn" data-view="list"><i class="fas fa-list"></i></button>
                        </div>
                    </div>
                </div>
                
                <div id="albums-grid" class="grid-layout">
                    </div>
                
                <div id="empty-state" class="empty-state" style="display: none;">
                    <i class="fas fa-film"></i>
                    <h3>Burası çok sessiz...</h3>
                    <p>Henüz hiç albüm oluşturmadınız.</p>
                    <button class="btn-primary" onclick="document.querySelector('[data-target=\'create-view\']').click()">İlk Albümü Oluştur</button>
                </div>
            </section>

            <section id="create-view" class="view-section" style="display: none;">
                <div class="create-container">
                    <h2>Yeni İçerik Ekle</h2>
                    <div class="create-options">
                        <div class="create-card active" id="tab-new-album">
                            <i class="fas fa-folder-plus"></i>
                            <h3>Yeni Albüm</h3>
                        </div>
                        <div class="create-card" id="tab-upload-media">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <h3>Medya Yükle</h3>
                        </div>
                    </div>

                    <form id="create-album-form" class="create-form">
                        <div class="form-group">
                            <label>Albüm Adı</label>
                            <input type="text" id="new-album-name" placeholder="Örn: Yaz Tatili 2025" required>
                        </div>
                        <div class="form-group">
                            <label>Açıklama (Opsiyonel)</label>
                            <textarea id="new-album-desc" rows="3" placeholder="Bu albüm ne hakkında?"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Kapak Görseli</label>
                            <div class="file-drop-area" id="cover-drop-area">
                                <span class="fake-btn">Görsel Seç</span>
                                <span class="file-msg">veya sürükleyip bırakın</span>
                                <input class="file-input" type="file" id="album-cover-file" accept="image/*">
                            </div>
                        </div>
                        <button type="submit" class="btn-primary full-width">Oluştur</button>
                    </form>
                </div>
            </section>

            <section id="settings-view" class="view-section" style="display: none;">
                <div class="settings-container">
                    <h2>Hesap Ayarları</h2>
                    <div class="settings-card">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Profil Görünümü</h4>
                                <p>İsminizi ve profil fotoğrafınızı güncelleyin.</p>
                            </div>
                            <button class="btn-secondary">Düzenle</button>
                        </div>
                        <hr>
                        <div class="setting-item">
                            <div class="setting-info">
                                <h4>Depolama Alanı</h4>
                                <p>%45 kullanılıyor (15GB / 5GB)</p>
                            </div>
                            <div class="progress-bar"><div class="fill" style="width: 45%"></div></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="album-detail-view" class="view-section" style="display: none;">
                <button class="back-link" id="back-to-albums-btn"><i class="fas fa-arrow-left"></i> Geri Dön</button>
                <div class="album-hero">
                    <div class="album-hero-content">
                        <h1 id="detail-title">Albüm Başlığı</h1>
                        <p id="detail-desc">Albüm açıklaması buraya gelecek.</p>
                        <div class="album-meta">
                            <span id="detail-date">2024</span>
                            <span class="badge">4K</span>
                        </div>
                    </div>
                </div>
                <div class="media-grid" id="album-media-grid">
                    </div>
            </section>

        </main>
    </div>

    <div id="media-modal" class="modal">
        <span class="close-modal">&times;</span>
        <div class="modal-content">
            <div id="modal-media-wrapper">
                </div>
            <div class="modal-caption">
                <h3 id="modal-media-title"></h3>
                <div class="modal-actions">
                    <button title="İndir"><i class="fas fa-download"></i></button>
                    <button title="Sil" class="text-danger"><i class="fas fa-trash"></i></button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>

    <script src="firebase-config.js"></script>
    <script src="script.js"></script>
</body>
</html>
